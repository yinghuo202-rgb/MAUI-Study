<?xml version="1.0" encoding="utf-8"?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:CrossNGram.MAUI.ViewModels"
             x:Class="CrossNGram.MAUI.MainPage"
             x:DataType="vm:MainViewModel"
             Title="CrossNGram">
  <ScrollView>
    <VerticalStackLayout Padding="20" Spacing="12">
      <Label Text="Input text" FontAttributes="Bold" />
      <Editor Text="{Binding InputText}"
              Placeholder="Enter text to tokenize"
              AutoSize="TextChanges"
              HeightRequest="180" />

      <Grid ColumnDefinitions="Auto,*,Auto,*,Auto"
            ColumnSpacing="8"
            RowSpacing="8">
        <Label Grid.Column="0"
               VerticalTextAlignment="Center"
               Text="n:" />
        <Entry Grid.Column="1"
               Keyboard="Numeric"
               HorizontalTextAlignment="Center"
               Text="{Binding N}"
               WidthRequest="72" />

        <Label Grid.Column="2"
               VerticalTextAlignment="Center"
               Text="threshold:" />
        <Entry Grid.Column="3"
               Keyboard="Numeric"
               HorizontalTextAlignment="Center"
               Text="{Binding Threshold}"
               WidthRequest="72" />

        <Button Grid.Column="4"
                Text="Tokenize"
                Command="{Binding SegmentCommand}"
                IsEnabled="{Binding CanSegment}" />
      </Grid>

      <Label Text="{Binding ErrorMessage}"
             TextColor="Red"
             FontSize="12"
             IsVisible="{Binding HasError}" />

      <Label Text="Result" FontAttributes="Bold" />
      <Grid ColumnDefinitions="*,Auto"
            RowDefinitions="Auto,Auto"
            ColumnSpacing="8"
            RowSpacing="8">
        <Editor Grid.Row="0"
                Grid.Column="0"
                Grid.ColumnSpan="2"
                Text="{Binding ResultText}"
                IsReadOnly="True"
                AutoSize="TextChanges"
                HeightRequest="180" />
        <Button Grid.Row="1"
                Grid.Column="1"
                Text="Copy"
                Command="{Binding CopyCommand}" />
      </Grid>
    </VerticalStackLayout>
  </ScrollView>
</ContentPage>
